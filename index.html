<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تقنية المعلومات | للحلول الذكية والأمن السيبراني</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="main-header">
        <div class="container">
            <div class="logo">
                <a href="index.html" class="custom-logo-link">
                    <img src="it_logo.png" alt="شعار تقنية المعلومات" class="site-logo">
                </a>
            </div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="#hero" class="active">الرئيسية</a></li>
                    <li><a href="#services">خدماتنا</a></li>
                    <li><a href="#about">من نحن</a></li>
                    <li><a href="#contact">تواصل معنا</a></li>
                    <li><a href="#" class="cta-nav-link">طلب استشارة</a></li>
                </ul>
            </nav>

            <button class="menu-toggle" aria-label="فتح قائمة التنقل">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <section class="hero-section" id="hero">
        <div class="container">
            <h1 class="hero-title">
                مرحباً بك في منصة <span class="highlight-text">IT</span> للحلول الذكية.
            </h1>
            <p class="hero-subtitle">
                نحن نقدم الدعم والحلول التقنية المتقدمة لأي مشكلة تواجهها في عالم التكنولوجيا والأمن.
            </p>
            <a href="#contact" class="main-cta-button">
                تواصل معنا لبدء مشروعك <i class="fas fa-arrow-left"></i>
            </a>
        </div>
    </section>

    <section class="quick-tip-section">
        <div class="container">
            <div class="tip-card">
                <div class="tip-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h2 class="tip-title">نصيحة اليوم الأمنية</h2>
                <p class="tip-content" id="security-tip">
                    نصيحة اليوم: استخدم المصادقة الثنائية (2FA) لكل حساباتك الهامة لزيادة الأمان.
                </p>
            </div>
        </div>
    </section>

    <main class="main-content" id="services">
        <div class="container">
            <h2 class="section-title text-center">خدماتنا الرئيسية</h2>
            
            <div class="services-grid">
                
                <div class="service-card">
                    <div class="card-icon"><i class="fas fa-lock"></i></div>
                    <h2>الأمن السيبراني</h2>
                    <p>تحصين الأنظمة والشبكات ضد الاختراقات وتوفير اختبارات الاختراق (Penetration Testing).</p>
                    <a href="#" class="card-link">اعرف المزيد</a>
                </div>

                <div class="service-card">
                    <div class="card-icon"><i class="fas fa-code"></i></div>
                    <h2>تطوير البرمجيات</h2>
                    <p>بناء تطبيقات ويب وهواتف ذكية مخصصة باستخدام أحدث التقنيات واللغات البرمجية.</p>
                    <a href="#" class="card-link">اعرف المزيد</a>
                </div>
                
                <div class="service-card">
                    <div class="card-icon"><i class="fas fa-server"></i></div>
                    <h2>إدارة البنية التحتية</h2>
                    <p>تصميم وإدارة وصيانة الخوادم، قواعد البيانات، والشبكات لضمان الاستمرارية والكفاءة.</p>
                    <a href="#" class="card-link">اعرف المزيد</a>
                </div>

            </div>
        </div>
    </main>

    <section class="contact-section" id="contact">
        <div class="container">
            <h2>تواصل معنا</h2>
            <p>هل أنت مستعد لبدء مشروعك؟ اترك لنا رسالة وسنتواصل معك فوراً.</p>
            
            <form class="contact-form" id="contact-form">
                <div class="form-group">
                    <label for="name">الاسم الكريم:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">البريد الإلكتروني:</label>
                    <input type="email" id="email" name="email" required>
                    <small id="email-error" style="color: #e74c3c; display: none;">يرجى إدخال بريد إلكتروني صحيح.</small>
                </div>
                <div class="form-group">
                    <label for="message">الرسالة:</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-button">إرسال الرسالة</button>
            </form>
        </div>
    </section>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; <span id="current-year">2024</span> تقنية المعلومات | جميع الحقوق محفوظة.</p>
            <div class="social-links">
                <a href="#" aria-label="تويتر"><i class="fab fa-twitter"></i></a>
                <a href="#" aria-label="لينكد إن"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" aria-label="جيت هاب"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // دالة لتنظيف مدخلات المستخدم ومنع هجمات XSS
        const sanitizeInput = (text) => {
            if (!text) return '';
            // تحويل الرموز الخطيرة إلى ما يقابلها من كيانات HTML
            let sanitized = text.replace(/&/g, '&amp;')
                                .replace(/</g, '&lt;')
                                .replace(/>/g, '&gt;')
                                .replace(/"/g, '&quot;')
                                .replace(/'/g, '&#39;');
            return sanitized.trim();
        };

        // دالة محسّنة للتحقق من صحة البريد الإلكتروني (التحقق من جانب العميل)
        const validateEmail = (email) => {
            const re = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            return re.test(String(email).toLowerCase());
        };

        document.addEventListener('DOMContentLoaded', () => {
            const currentYear = new Date().getFullYear();
            document.getElementById('current-year').textContent = currentYear;

            // 1. تفعيل قائمة الجوال (Menu Toggle)
            const menuToggle = document.querySelector('.menu-toggle');
            const mainNav = document.querySelector('.main-nav');

            menuToggle.addEventListener('click', () => {
                mainNav.classList.toggle('active');
            });
            
            // 2. تحديث النصائح الأمنية (مراجعة الخطوة الثالثة)
            const securityTips = [
                "استخدم المصادقة الثنائية (2FA) لكل حساباتك الهامة لزيادة الأمان.",
                "قم بتحديث نظام التشغيل والتطبيقات باستمرار لسد الثغرات الأمنية.",
                "استخدم مدير كلمات مرور لإنشاء وتخزين كلمات مرور قوية وفريدة.",
                "احذر من رسائل البريد الإلكتروني العشوائية (Phishing) ولا تضغط على روابط مشبوهة.",
                "قم بإجراء نسخ احتياطي لبياناتك بانتظام لتجنب فقدانها بسبب هجمات الفدية."
            ];

            const tipElement = document.getElementById('security-tip');
            if(tipElement) {
                const randomIndex = Math.floor(Math.random() * securityTips.length);
                // الأمان هنا باستخدام textContent بدلاً من innerHTML
                tipElement.textContent = "نصيحة اليوم: " + securityTips[randomIndex];
            }

            // 3. التحصين الفعلي لنموذج الاتصال
            const contactForm = document.getElementById('contact-form');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const messageInput = document.getElementById('message');
            const emailError = document.getElementById('email-error');
            const submitButton = contactForm.querySelector('.submit-button');

            let isSubmitting = false;

            contactForm.addEventListener('submit', (e) => {
                e.preventDefault(); 

                if (isSubmitting) {
                    return; 
                }

                if (!validateEmail(emailInput.value)) {
                    emailError.style.display = 'block';
                    return;
                } else {
                    emailError.style.display = 'none';
                }

                isSubmitting = true;
                submitButton.disabled = true;
                submitButton.textContent = 'جاري الإرسال...';
                
                // التنظيف والتحصين الأمني للمدخلات
                const formPayload = {
                    name: sanitizeInput(nameInput.value),
                    email: emailInput.value, // يمكننا ترك البريد الإلكتروني دون تنظيف
                    message: sanitizeInput(messageInput.value)
                };

                // محاكاة عملية الإرسال الناجحة:
                setTimeout(() => {
                    alert(`تم إرسال رسالتك بنجاح يا ${formPayload.name}! شكراً لتواصلك.`);
                    contactForm.reset();
                    
                    // إعادة تهيئة الحالة بعد الانتهاء
                    isSubmitting = false;
                    submitButton.disabled = false;
                    submitButton.textContent = 'إرسال الرسالة';
                }, 1500); 
            });

        });
    </script>
</body>
</html>
